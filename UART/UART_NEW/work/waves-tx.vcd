$date
	Sat Nov 19 15:59:10 2022
$end
$version
	ModelSim Version 10.1d
$end
$timescale
	1ns
$end
$scope module tx_tb $end
$var parameter 32 ! BIT_RATE $end
$var parameter 32 " BIT_P $end
$var parameter 32 # CLK_HZ $end
$var parameter 32 $ CLK_P $end
$var parameter 32 % CLK_P_2 $end
$var reg 1 & clk $end
$var reg 1 ' resetn $end
$var wire 1 ( uart_txd $end
$var wire 1 ) uart_tx_busy $end
$var reg 1 * uart_tx_en $end
$var reg 8 + uart_tx_data [7:0] $end
$var reg 8 , to_send [7:0] $end
$scope task send_byte $end
$var reg 8 - to_send [7:0] $end
$upscope $end
$scope module i_uart_tx $end
$var parameter 32 . BIT_RATE $end
$var parameter 32 / BIT_P $end
$var parameter 32 0 CLK_HZ $end
$var parameter 32 1 CLK_P $end
$var parameter 32 2 PAYLOAD_BITS $end
$var parameter 32 3 STOP_BITS $end
$var parameter 32 4 CYCLES_PER_BIT $end
$var parameter 32 5 COUNT_REG_LEN $end
$var parameter 32 6 FSM_IDLE $end
$var parameter 32 7 FSM_START $end
$var parameter 32 8 FSM_SEND $end
$var parameter 32 9 FSM_STOP $end
$var wire 1 : clk $end
$var wire 1 ; resetn $end
$var wire 1 ( uart_txd $end
$var wire 1 ) uart_tx_busy $end
$var wire 1 < uart_tx_en $end
$var wire 1 = uart_tx_data [7] $end
$var wire 1 > uart_tx_data [6] $end
$var wire 1 ? uart_tx_data [5] $end
$var wire 1 @ uart_tx_data [4] $end
$var wire 1 A uart_tx_data [3] $end
$var wire 1 B uart_tx_data [2] $end
$var wire 1 C uart_tx_data [1] $end
$var wire 1 D uart_tx_data [0] $end
$var reg 1 E txd_reg $end
$var reg 8 F data_to_send [7:0] $end
$var reg 14 G cycle_counter [13:0] $end
$var reg 4 H bit_counter [3:0] $end
$var reg 3 I fsm_state [2:0] $end
$var reg 3 J n_fsm_state [2:0] $end
$var wire 1 K next_bit $end
$var wire 1 L payload_done $end
$var wire 1 M stop_done $end
$var integer 32 N i $end
$scope begin p_n_fsm_state $end
$upscope $end
$scope begin p_data_to_send $end
$upscope $end
$scope begin p_bit_counter $end
$upscope $end
$scope begin p_cycle_counter $end
$upscope $end
$scope begin p_fsm_state $end
$upscope $end
$scope begin p_txd_reg $end
$upscope $end
$upscope $end
$upscope $end
$enddefinitions $end
#40
$dumpvars
0&
1'
1*
b100100 +
b100100 -
b100100 ,
1E
b0 F
b0 G
b0 H
b0 I
b1 J
b10010110000000 !
b11001011011100110 "
b10111110101111000010000000 #
b10100 $
b1010 %
b10010110000000 .
b11001011011100110 /
b10111110101111000010000000 0
b10100 1
b1000 2
b1 3
b1010001011000 4
b1110 5
b0 6
b1 7
b10 8
b11 9
b0 N
1(
0)
0K
0L
0M
0D
0C
1B
0A
0@
1?
0>
0=
1<
1;
0:
$end
#50
1&
1:
b100100 F
b1 I
1)
#60
0&
0:
#70
1&
1:
b1 G
0E
0(
#80
0&
0:
#90
1&
1:
b10 G
#100
0&
0:
#110
1&
1:
b11 G
#120
0&
0:
#130
1&
1:
b100 G
#140
0&
0:
#150
1&
1:
b101 G
#160
0&
0:
#170
1&
1:
b110 G
#180
0&
0:
#190
1&
1:
b111 G
#200
0&
0:
#210
1&
1:
b1000 G
#220
0&
0:
#230
1&
1:
b1001 G
#240
0&
0:
#250
1&
1:
b1010 G
#260
0&
0:
#270
1&
1:
b1011 G
#280
0&
0:
#290
1&
1:
b1100 G
#300
0&
0:
#310
1&
1:
b1101 G
#320
0&
0:
#330
1&
1:
b1110 G
#340
0&
0:
#350
1&
1:
b1111 G
#360
0&
0:
#370
1&
1:
b10000 G
#380
0&
0:
#390
1&
1:
b10001 G
#400
0&
0:
#410
1&
1:
b10010 G
#420
0&
0:
#430
1&
1:
b10011 G
#440
0&
0:
#450
1&
1:
b10100 G
#460
0&
0:
#470
1&
1:
b10101 G
#480
0&
0:
#490
1&
1:
b10110 G
#500
0&
0:
#510
1&
1:
b10111 G
#520
0&
0:
#530
1&
1:
b11000 G
#540
0&
0:
#550
1&
1:
b11001 G
#560
0&
0:
#570
1&
1:
b11010 G
#580
0&
0:
#590
1&
1:
b11011 G
#600
0&
0:
#610
1&
1:
b11100 G
#620
0&
0:
#630
1&
1:
b11101 G
#640
0&
0:
#650
1&
1:
b11110 G
#660
0&
0:
#670
1&
1:
b11111 G
#680
0&
0:
#690
1&
1:
b100000 G
#700
0&
0:
#710
1&
1:
b100001 G
#720
0&
0:
#730
1&
1:
b100010 G
#740
0&
0:
#750
1&
1:
b100011 G
#760
0&
0:
#770
1&
1:
b100100 G
#780
0&
0:
#790
1&
1:
b100101 G
#800
0&
0:
#810
1&
1:
b100110 G
#820
0&
0:
#830
1&
1:
b100111 G
#840
0&
0:
#850
1&
1:
b101000 G
#860
0&
0:
#870
1&
1:
b101001 G
#880
0&
0:
#890
1&
1:
b101010 G
#900
0&
0:
#910
1&
1:
b101011 G
#920
0&
0:
#930
1&
1:
b101100 G
#940
0&
0:
#950
1&
1:
b101101 G
#960
0&
0:
#970
1&
1:
b101110 G
#980
0&
0:
#990
1&
1:
b101111 G
#1000
0&
0:
#1010
1&
1:
b110000 G
#1020
0&
0:
#1030
1&
1:
b110001 G
#1040
0&
0:
#1050
1&
1:
b110010 G
#1060
0&
0:
#1070
1&
1:
b110011 G
#1080
0&
0:
#1090
1&
1:
b110100 G
#1100
0&
0:
#1110
1&
1:
b110101 G
#1120
0&
0:
#1130
1&
1:
b110110 G
#1140
0&
0:
#1150
1&
1:
b110111 G
#1160
0&
0:
#1170
1&
1:
b111000 G
#1180
0&
0:
#1190
1&
1:
b111001 G
#1200
0&
0:
#1210
1&
1:
b111010 G
#1220
0&
0:
#1230
1&
1:
b111011 G
#1240
0&
0:
#1250
1&
1:
b111100 G
#1260
0&
0:
#1270
1&
1:
b111101 G
#1280
0&
0:
#1290
1&
1:
b111110 G
#1300
0&
0:
#1310
1&
1:
b111111 G
#1320
0&
0:
#1330
1&
1:
b1000000 G
#1340
0&
0:
#1350
1&
1:
b1000001 G
#1360
0&
0:
#1370
1&
1:
b1000010 G
#1380
0&
0:
#1390
1&
1:
b1000011 G
#1400
0&
0:
#1410
1&
1:
b1000100 G
#1420
0&
0:
#1430
1&
1:
b1000101 G
#1440
0&
0:
#1450
1&
1:
b1000110 G
#1460
0&
0:
#1470
1&
1:
b1000111 G
#1480
0&
0:
#1490
1&
1:
b1001000 G
#1500
0&
0:
#1510
1&
1:
b1001001 G
#1520
0&
0:
#1530
1&
1:
b1001010 G
#1540
0&
0:
#1550
1&
1:
b1001011 G
#1560
0&
0:
#1570
1&
1:
b1001100 G
#1580
0&
0:
#1590
1&
1:
b1001101 G
#1600
0&
0:
#1610
1&
1:
b1001110 G
#1620
0&
0:
#1630
1&
1:
b1001111 G
#1640
0&
0:
#1650
1&
1:
b1010000 G
#1660
0&
0:
#1670
1&
1:
b1010001 G
#1680
0&
0:
#1690
1&
1:
b1010010 G
#1700
0&
0:
#1710
1&
1:
b1010011 G
#1720
0&
0:
#1730
1&
1:
b1010100 G
#1740
0&
0:
#1750
1&
1:
b1010101 G
#1760
0&
0:
#1770
1&
1:
b1010110 G
#1780
0&
0:
#1790
1&
1:
b1010111 G
#1800
0&
0:
#1810
1&
1:
b1011000 G
#1820
0&
0:
#1830
1&
1:
b1011001 G
#1840
0&
0:
#1850
1&
1:
b1011010 G
#1860
0&
0:
#1870
1&
1:
b1011011 G
#1880
0&
0:
#1890
1&
1:
b1011100 G
#1900
0&
0:
#1910
1&
1:
b1011101 G
#1920
0&
0:
#1930
1&
1:
b1011110 G
#1940
0&
0:
#1950
1&
1:
b1011111 G
#1960
0&
0:
#1970
1&
1:
b1100000 G
#1980
0&
0:
#1990
1&
1:
b1100001 G
#2000
0&
0:
#2010
1&
1:
b1100010 G
#2020
0&
0:
#2030
1&
1:
b1100011 G
#2040
0&
0:
#2050
1&
1:
b1100100 G
#2060
0&
0:
#2070
1&
1:
b1100101 G
#2080
0&
0:
#2090
1&
1:
b1100110 G
#2100
0&
0:
#2110
1&
1:
b1100111 G
#2120
0&
0:
#2130
1&
1:
b1101000 G
#2140
0&
0:
#2150
1&
1:
b1101001 G
#2160
0&
0:
#2170
1&
1:
b1101010 G
#2180
0&
0:
#2190
1&
1:
b1101011 G
#2200
0&
0:
#2210
1&
1:
b1101100 G
#2220
0&
0:
#2230
1&
1:
b1101101 G
#2240
0&
0:
#2250
1&
1:
b1101110 G
#2260
0&
0:
#2270
1&
1:
b1101111 G
#2280
0&
0:
#2290
1&
1:
b1110000 G
#2300
0&
0:
#2310
1&
1:
b1110001 G
#2320
0&
0:
#2330
1&
1:
b1110010 G
#2340
0&
0:
#2350
1&
1:
b1110011 G
#2360
0&
0:
#2370
1&
1:
b1110100 G
#2380
0&
0:
#2390
1&
1:
b1110101 G
#2400
0&
0:
